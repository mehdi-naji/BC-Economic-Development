library(shiny)
library(ggplot2)
library(tidyr)
library(tidyverse)
library(tidyquant)
library(lubridate)
library(plotly)
library(leaflet)
library(cowplot)
library(grid)
library(gtable)
library(shinydashboard)
library(RColorBrewer)
options(shiny.autoreload = TRUE)
# Downloading processed data ----
url <- "https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/VA_Exports_1.csv"
df <- read.csv(url, header = TRUE)
df <- read.csv(url, header = TRUE)
# Downloading processed data ----
url <- "https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/VA_Exports_1.csv"
df <- read.csv(url, header = TRUE)
# Downloading processed data ----
url <- "https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/VA_Exporsts_1.csv"
df <- read.csv(url, header = TRUE)
df <- na.omit(df)
# Static inputs ----
modal_title1 <- "Private sector investment in innovation"
modal_text1 <- paste("The amount spent on research and development by the business enterprise sector (not adjusted for inflation) in")
modal_title2 <- "Value-added exports"
modal_title3 <- "Non-residential structures, machinery and equipment and IP investment as share of GDP"
modal_title4 <- "Labour Productivity"
modal_title5 <- "Exports as % of GDP"
View(df)
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
shiny::runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("12-10-0100-01", "eng")
df <- df1
df$REF_DATE <- ymd(df$REF_DATE)
df$Year <- year(df$REF_DATE)
View(df)
df$REF_DATE <- ymd(df$REF_DATE)
df$Year <- year(df$REF_DATE)
dff <- df |> filter (`Value added exports variable` == "Value added exports",
`Country Code` == "Total of all countries",
Aggregation == "Summary level") |>
select(Year, GEO, `Country Code`, Industry, VALUE)
View(dff)
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
# Libraries ----
library(shiny)
library(ggplot2)
library(tidyr)
library(tidyverse)
library(tidyquant)
library(lubridate)
library(plotly)
library(leaflet)
library(cowplot)
library(grid)
library(gtable)
library(shinydashboard)
library(RColorBrewer)
options(shiny.autoreload = TRUE)
# Downloading processed data ----
url <- "https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/VA_Exporsts_1.csv"
df <- read.csv(url, header = TRUE)
df <- na.omit(df)
View(df)
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
View(df)
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
shiny::runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
# Libraries ----
library(shiny)
library(ggplot2)
library(tidyr)
library(tidyverse)
library(tidyquant)
library(lubridate)
library(plotly)
library(leaflet)
library(cowplot)
library(grid)
library(gtable)
library(shinydashboard)
library(RColorBrewer)
options(shiny.autoreload = TRUE)
# Downloading processed data ----
url <- "https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/VA_Exporsts_1.csv"
df <- read.csv(url, header = TRUE)
df <- na.omit(df)
dff |>
filter(Industry != "Total industries",
GEO == "British Columbia")
dff <- df |>
filter(Industry != "Total industries",
GEO == "British Columbia")
View(dff)
dff <- dff |> filter(Year = 2020)
dff <- dff |> filter(Year = 2018)
dff <- dff |> filter(Year = "2018")
dff <- dff |> filter(Year == "2018")
dff <- df |> filter (GEO == "British Colubia",
Year == "2019")
View(df)
dff <- df |> filter (GEO == "British Columbia",
Year == "2019")
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("12-10-0100-01", "eng")
df2 <- statcan_download_data("36-10-0222-01", "eng")
View(df1)
View(df1)
View(df2)
df1$REF_DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$REF_DATE)
df2$REF_DATE <- ymd(df2$REF_DATE)
df2$Year <- year(df2$REF_DATE)
unique(df2$Prices)
unique(df2$Estimates)
df2 <- df2 |>
filter (Prices == "Current prices",
Estimates == "Gross domestic product at market prices") |>
select (Year, GEO, VALUE)
df1 <- df1 |> filter (`Value added exports variable` == "Value added exports",
`Country Code` == "Total of all countries",
Aggregation == "Summary level") |>
select(Year, GEO, `Country Code`, Industry, VALUE)
unique(df1$`Country Code`)
df1 <- df1 |> filter (`Value added exports variable` == "Value added exports",
`Country Code` == "Total of all countries",
Aggregation == "Summary level") |>
select(Year, GEO, Industry, VALUE)
df1 <- df1 |> filter (`Value added exports variable` == "Value added exports",
`Country Code` == "Total of all countries",
Aggregation == "Summary level") |>
select(Year, GEO, Industry, VALUE)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("12-10-0100-01", "eng")
df2 <- statcan_download_data("36-10-0222-01", "eng")
df1$REF_DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$REF_DATE)
df2$REF_DATE <- ymd(df2$REF_DATE)
df2$Year <- year(df2$REF_DATE)
df1 <- df1 |> filter (`Value added exports variable` == "Value added exports",
`Country Code` == "Total of all countries",
Aggregation == "Summary level") |>
select(Year, GEO, Industry, VALUE)
df2 <- df2 |>
filter (Prices == "Current prices",
Estimates == "Gross domestic product at market prices") |>
select (Year, GEO, VALUE)
names(df1)[names(df1) == "VALUE"] <- "VA_EXP"
names(df2)[names(df2) == "VALUE"] <- "GDP"
dff <- merge(df1, df2, by = c("Year", "GEO"))
View(dff)
# write.csv(df1, "~/StrongerBC-Project/Data/VA_Exporsts_1.csv", row.names = FALSE)
write.csv(dff, "C:/Users/MNAJI/StrongerBC-Project/Data/VA_Exporsts_1.csv", row.names = FALSE)
# Libraries ----
library(shiny)
library(ggplot2)
library(tidyr)
library(tidyverse)
library(tidyquant)
library(lubridate)
library(plotly)
library(leaflet)
library(cowplot)
library(grid)
library(gtable)
library(shinydashboard)
library(RColorBrewer)
options(shiny.autoreload = TRUE)
# Downloading processed data ----
url <- "https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/VA_Exporsts_1.csv"
df <- read.csv(url, header = TRUE)
df <- na.omit(df)
View(df)
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("12-10-0100-01", "eng")
df2 <- statcan_download_data("36-10-0222-01", "eng")
View(df1)
View(df2)
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
sss <- df2 |>
filter(Prices == "Current prices",
Estimates %in% c("Gross domestic product at market prices", "Exports of goods and services"))
View(sss)
sss <- df2 |>
filter(Prices == "Current prices",
Estimates %in% c("Gross domestic product at market prices", "Exports of goods and services"),
GEO %in% c("Canada", "British Columbia"))
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
View(df)
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
runApp('C:/Users/MNAJI/StrongerBC-Project/VA_Exports')
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("12-10-0100-01", "eng")
df2 <- statcan_download_data("36-10-0222-01", "eng")
df1$REF_DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$REF_DATE)
df2$REF_DATE <- ymd(df2$REF_DATE)
df2$Year <- year(df2$REF_DATE)
df1 <- df1 |> filter (`Value added exports variable` == "Value added exports",
`Country Code` == "Total of all countries",
Aggregation == "Summary level") |>
select(Year, GEO, Industry, VALUE)
names(df1)[names(df1) == "VALUE"] <- "VA_EXP"
df2 <- df2 |>
filter (Prices == "Current prices",
Estimates == "Gross domestic product at market prices") |>
select (Year, GEO, VALUE)
names(df2)[names(df2) == "VALUE"] <- "GDP"
dff <- merge(df1, df2, by = c("Year", "GEO"))
# write.csv(df1, "~/StrongerBC-Project/Data/VA_Exporsts_1.csv", row.names = FALSE)
write.csv(dff, "C:/Users/MNAJI/StrongerBC-Project/Data/VA_Exporsts_1.csv", row.names = FALSE)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("36-10-0480-01", "eng")
View(df1)
unique(df1$GEO)
unique(df1$`Labour productivity and related measures`)
unique(df1$Industry)
df1$REF_DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$REF_DATE)
df1 <- df1 |> select(Year, `Labour productivity and related measures`, Industry, VALUE)
# write.csv(df1, "~/StrongerBC-Project/Data/VA_Exporsts_1.csv", row.names = FALSE)
write.csv(df1, "C:/Users/MNAJI/StrongerBC-Project/Data/Labour_Productivity_1.csv", row.names = FALSE)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("36-10-0480-01", "eng")
df1$REF_DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$REF_DATE)
df1 <- df1 |> select(Year, `Labour productivity and related measures`, Industry, VALUE)
# write.csv(df1, "~/StrongerBC-Project/Data/VA_Exporsts_1.csv", row.names = FALSE)
write.csv(df1, "C:/Users/MNAJI/StrongerBC-Project/Data/Labour_Productivity_1.csv", row.names = FALSE)
View(df1)
unique(df1$Industry)
View(df1)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("36-10-0480-01", "eng")
View(df1)
View(df1)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("36-10-0480-01", "eng")
df1$REF_DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$REF_DATE)
df1 <- df1 |> select(Year, `Labour productivity and related measures`, Industry, VALUE)
# write.csv(df1, "~/StrongerBC-Project/Data/VA_Exporsts_1.csv", row.names = FALSE)
write.csv(df1, "C:/Users/MNAJI/StrongerBC-Project/Data/Labour_Productivity_1.csv", row.names = FALSE)
View(df1)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("36-10-0480-01", "eng")
df1$REF_DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$REF_DATE)
View(df1)
View(df1)
df1[df1$Industry == "1.1.6"]
df1[df1$Industry == "1.1.6"][1]
df1[df1$Industry == "1.1.1"][1]
View(df1)
df1[df1$COORDINATE == "1.1.1"]
df1[df1$COORDINATE == "1.1.1"][1]
df1[df1$COORDINATE == "1.1.1"][1][2]
df1[df1$COORDINATE == "1.1.1"][1,2]
df1[df1$COORDINATE == "1.1.1"][1,3]
df1[df1$COORDINATE == "1.1.1"][1,4]
df1[df1$COORDINATE == "1.1.1"][1,5]
df1[df1$COORDINATE == "1.1.2"][1,5]
df1[df1$COORDINATE == "1.1.3"][1,5]
df1[df1$COORDINATE == "1.1.4"][1,5]
df1[df1$COORDINATE == "1.1.5"][1,5]
df1[df1$COORDINATE == "1.1.6"][1,5]
df1[df1$COORDINATE == "1.1.7"][1,5]
df1[df1$COORDINATE == "1.1.16"][1,5]
df1[df1$COORDINATE == "1.1.17"][1,5]
df1[df1$COORDINATE == "1.1.35"][1,5]
df1[df1$COORDINATE == "1.1.36"][1,5]
df1[df1$COORDINATE == "1.1.17"][1,5]
df1[df1$COORDINATE == "1.1.37"][1,5]
df1[df1$COORDINATE == "1.1.42"][1,5]
df1[df1$COORDINATE == "1.1.52"][1,5]
df1[df1$COORDINATE == "1.1.53"][1,5]
View(df1)
df1[df1$COORDINATE == "1.1.157"][1,5]
df1[df1$COORDINATE == "1.1.2"][1,5]
df2 <- df1[grepl("\\..*\\.1$", df$COORDINATE) | grepl("\\..*\\.2$", df$COORDINATE), ]
# Assuming 'df' is your data frame and 'COORDINATE' is your column
df_filtered <- df1[grepl("\\..*\\.2$", df1$COORDINATE) | grepl("\\..*\\.22$", df1$COORDINATE), ]
View(df_filtered)
selcted_sectors <- c(1, 2, 3, 293, 294, 157, 4, 17, 37, 42, 53)
filter_conditions <- sapply(selcted_sectors, function(x) grepl(paste0("\\..*\\.", x, "$"), df$COORDINATE))
df2 <- sapply(selcted_sectors, function(x) grepl(paste0("\\..*\\.", x, "$"), df1$COORDINATE))
View(df2)
df2 <- apply(df2, 1, any)
df2 <- df[df2, ]
df2 <- df2[df2, ]
df3 <- df1[df2, ]
View(df3)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("36-10-0480-01", "eng")
df1$REF_DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$REF_DATE)
df1 <- df1 |> select(Year, `Labour productivity and related measures`, Industry, VALUE)
selcted_sectors <- c(1, 2, 3, 293, 294, 157, 4, 17, 37, 42, 53)
df2 <- sapply(selcted_sectors, function(x) grepl(paste0("\\..*\\.", x, "$"), df1$COORDINATE))
df2 <- apply(df2, 1, any)
selcted_sectors <- c(1, 2, 3, 293, 294, 157, 4, 17, 37, 42, 53)
df2 <- sapply(selcted_sectors, function(x) grepl(paste0("\\..*\\.", x, "$"), df1$COORDINATE))
df2 <- apply(df2, 1, any)
View(df2)
df2 <- sapply(selcted_sectors, function(x) grepl(paste0("\\..*\\.", x, "$"), df1$COORDINATE))
filter_conditions  <- sapply(selcted_sectors, function(x) grepl(paste0("\\..*\\.", x, "$"), df1$COORDINATE))
filter_conditions <- apply(filter_conditions, 1, any)
selected_sectors <- c(1, 2, 3, 293, 294, 157, 4, 17, 37, 42, 53)
filter_conditions  <- sapply(selected_sectors, function(x) grepl(paste0("\\..*\\.", x, "$"), df1$COORDINATE))
filter_conditions <- apply(filter_conditions, 1, any)
df3 <- df1[filter_conditions, ]
filter_conditions  <- sapply(selected_sectors, function(x) grepl(paste0("\\..*\\.", x, "$"), df1$COORDINATE))
View(df2)
View(df1)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("36-10-0480-01", "eng")
df1$REF_DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$REF_DATE)
selected_sectors <- c(1, 2, 3, 293, 294, 157, 4, 17, 37, 42, 53)
filter_conditions  <- sapply(selected_sectors, function(x) grepl(paste0("\\..*\\.", x, "$"), df1$COORDINATE))
filter_conditions <- apply(filter_conditions, 1, any)
df2 <- df1[filter_conditions, ]
df2 <- df2 |> select(Year, `Labour productivity and related measures`, Industry, VALUE)
View(df2)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("36-10-0480-01", "eng")
df1$REF_DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$REF_DATE)
selected_sectors <- c(1, 2, 3, 293, 294, 157, 4, 17, 37, 42, 53)
filter_conditions  <- sapply(selected_sectors, function(x) grepl(paste0("\\..*\\.", x, "$"), df1$COORDINATE))
filter_conditions <- apply(filter_conditions, 1, any)
df2 <- df1[filter_conditions, ]
df2 <- df2 |> select(Year, `Labour productivity and related measures`, Industry, VALUE)
# write.csv(df1, "~/StrongerBC-Project/Data/VA_Exporsts_1.csv", row.names = FALSE)
write.csv(df2, "C:/Users/MNAJI/StrongerBC-Project/Data/Labour_Productivity_1.csv", row.names = FALSE)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("36-10-0480-01", "eng")
df1$REF_DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$REF_DATE)
selected_sectors <- c(1, 2, 3, 293, 294, 157, 4, 17, 37, 42, 53)
filter_conditions  <- sapply(selected_sectors, function(x) grepl(paste0("\\..*\\.", x, "$"), df1$COORDINATE))
filter_conditions <- apply(filter_conditions, 1, any)
df2 <- df1[filter_conditions, ]
df2 <- df2 |> select(Year, `Labour productivity and related measures`, Industry, VALUE)
# write.csv(df1, "~/StrongerBC-Project/Data/VA_Exporsts_1.csv", row.names = FALSE)
write.csv(df2, "C:/Users/MNAJI/StrongerBC-Project/Data/Labour_Productivity_1.csv", row.names = FALSE)
library(tidyverse)
shiny::runApp('C:/Users/MNAJI/StrongerBC-Project/Labour_Productivity')
shiny::runApp('C:/Users/MNAJI/StrongerBC-Project/Labour_Productivity')
runApp('C:/Users/MNAJI/StrongerBC-Project/Labour_Productivity')
# Libraries ----
library(shiny)
library(ggplot2)
library(tidyr)
library(tidyverse)
library(tidyquant)
library(lubridate)
library(plotly)
library(leaflet)
library(cowplot)
library(grid)
library(gtable)
library(shinydashboard)
library(RColorBrewer)
library(sf)
options(shiny.autoreload = TRUE)
# Downloading processed data ----
url <- "https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/Labour_Productivity_1.csv"
df <- read.csv(url, header = TRUE)
df <- na.omit(df)
# Load Canada provinces shapefile (you need to have this file)
canada <- st_read("https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/Canada_Provincial_boundaries_generalized.shp")
runApp('C:/Users/MNAJI/StrongerBC-Project/Labour_Productivity')
# Libraries ----
library(shiny)
library(ggplot2)
library(tidyr)
library(tidyverse)
library(tidyquant)
library(lubridate)
library(plotly)
library(leaflet)
library(cowplot)
library(grid)
library(gtable)
library(shinydashboard)
library(RColorBrewer)
library(sf)
options(shiny.autoreload = TRUE)
# Downloading processed data ----
url <- "https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/Labour_Productivity_1.csv"
df <- read.csv(url, header = TRUE)
df <- na.omit(df)
# Load Canada provinces shapefile
canada <- st_read("https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/Provinces_and_Territories_of_Canada/Canada_Provincial_boundaries_generalized.shp")
# Libraries ----
library(shiny)
library(ggplot2)
library(tidyr)
library(tidyverse)
library(tidyquant)
library(lubridate)
library(plotly)
library(leaflet)
library(cowplot)
library(grid)
library(gtable)
library(shinydashboard)
library(RColorBrewer)
library(sf)
options(shiny.autoreload = TRUE)
# Downloading processed data ----
url <- "https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/Labour_Productivity_1.csv"
df <- read.csv(url, header = TRUE)
df <- na.omit(df)
# Load Canada provinces shapefile
canada <- st_read("https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/Provinces_and_Territories_of_Canada/Canada_Provincial_boundaries_generalized.shp")
# Load Canada provinces shapefile
sf::gdal_set_option("SHAPE_RESTORE_SHX", "YES")
# Load Canada provinces shapefile
sf::gdal_set_option("SHAPE_RESTORE_SHX", "YES")
canada <- st_read("https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/Provinces_and_Territories_of_Canada/Canada_Provincial_boundaries_generalized.shp")
# Load Canada provinces shapefile
canada <- sf::read_sf("https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/Provinces_and_Territories_of_Canada/Canada_Provincial_boundaries_generalized.shp")
runApp('C:/Users/MNAJI/StrongerBC-Project/Labour_Productivity')
# Load Canada provinces shapefile
canada <- sf::read_sf("https://github.com/mehdi-naji/StrongerBC-Project/raw/main/Data/Provinces_and_Territories_of_Canada/Canada_Provincial_boundaries_generalized.shp")
library (gdal)
install.packages("gdal)
install.packages("gdal")
install.packages("rgdal", type = "source")
shiny::runApp('C:/Users/MNAJI/StrongerBC-Project/Non_Residential_Investment')
# Libraries ----
library(shiny)
library(ggplot2)
library(tidyr)
library(tidyverse)
install.packages("shiny")
install.packages("shiny")
# Libraries ----
library(shiny)
runApp('C:/Users/MNAJI/StrongerBC-Project/Non_Residential_Investment')
runApp('C:/Users/MNAJI/StrongerBC-Project/Non_Residential_Investment')
runApp('C:/Users/MNAJI/StrongerBC-Project/Non_Residential_Investment')
