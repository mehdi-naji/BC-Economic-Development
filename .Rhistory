runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("11-10-0134-01", "eng")
View(df1)
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
df1 <- df1 |>
mutate(Income_concept = `Income concept`) |>
select(
Year, GEO, Income_concept, UOM, VALUE
)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("11-10-0134-01", "eng")
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
df1 <- df1 |>
mutate(Income_concept = `Income concept`) |>
select(
Year, GEO, Income_concept, UOM, VALUE
)
# write.csv(df1, "~/StrongerBC-Project/Data/Research_and_Development_1.csv", row.names = FALSE)
# write.csv(df2, "~/StrongerBC-Project/Data/Research_and_Development_2.csv", row.names = FALSE)
write.csv(df1, "C:/Users/MNAJI/StrongerBC-Project/Data/Gini_Coefficient_1.csv", row.names = FALSE)
library(shiny); runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("11-10-0223-01", "eng")
View(df1)
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
df1 <- df1 |>
mutate(Category = `Household expenditures, summary-level categories`,
Quantile = `Before-tax household income quintile`) |>
select(
Year, GEO, Statistic, Quantile, Category, UOM, VALUE
)
df1 <- df1 |>
mutate(Category = `Household expenditures, summary-level categories`,
Quantile = `Before-tax household income quintile`) |>
filter(Statistic == "Average expenditure per household",
Quantile == "All quintiles",
Category %in% c("Total expenditure",
"Food expenditures")
) |>
select(
Year, GEO, Statistic, Quantile, Category, UOM, VALUE
)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("11-10-0223-01", "eng")
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
df1 <- df1 |>
mutate(Category = `Household expenditures, summary-level categories`,
Quantile = `Before-tax household income quintile`) |>
filter(Statistic == "Average expenditure per household",
Quantile == "All quintiles",
Category %in% c("Total expenditure",
"Food expenditures")
) |>
select(
Year, GEO, Statistic, Quantile, Category, UOM, VALUE
)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("11-10-0223-01", "eng")
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
df1_1 <- df1 |>
mutate(Category = `Household expenditures, summary-level categories`,
Quantile = `Before-tax household income quintile`) |>
filter(Statistic == "Average expenditure per household",
Quantile == "All quintiles",
Category %in% c("Total expenditure",
"Food expenditures")
) |>
select(
Year, GEO, Category, UOM, VALUE
) |>
pivot_wider(names_from = Category, values_from = VALUE)
View(df1_1)
df1_1 <- df1 |>
mutate(Category = `Household expenditures, summary-level categories`,
Quantile = `Before-tax household income quintile`) |>
filter(Statistic == "Average expenditure per household",
Quantile == "All quintiles",
Category %in% c("Total expenditure",
"Food expenditures")
) |>
select(
Year, GEO, Category, UOM, VALUE
) |>
pivot_wider(names_from = Category, values_from = VALUE) |>
mutate(Total = `Total expenditure`,
Food = `Food expenditure` ) |>
mutate(VALUE = Food / Total)
df1_1 <- df1 |>
mutate(Category = `Household expenditures, summary-level categories`,
Quantile = `Before-tax household income quintile`) |>
filter(Statistic == "Average expenditure per household",
Quantile == "All quintiles",
Category %in% c("Total expenditure",
"Food expenditures")
) |>
select(
Year, GEO, Category, UOM, VALUE
) |>
pivot_wider(names_from = Category, values_from = VALUE) |>
mutate(Total = `Total expenditure`,
Food = `Food expenditures` ) |>
mutate(VALUE = Food / Total)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("11-10-0223-01", "eng")
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
df1_1 <- df1 |>
mutate(Category = `Household expenditures, summary-level categories`,
Quantile = `Before-tax household income quintile`) |>
filter(Statistic == "Average expenditure per household",
Quantile == "All quintiles",
Category %in% c("Total expenditure",
"Food expenditures")
) |>
select(
Year, GEO, Category, UOM, VALUE
) |>
pivot_wider(names_from = Category, values_from = VALUE) |>
mutate(Total = `Total expenditure`,
Food = `Food expenditures` ) |>
mutate(VALUE = Food / Total)
# write.csv(df1, "~/StrongerBC-Project/Data/Research_and_Development_1.csv", row.names = FALSE)
# write.csv(df2, "~/StrongerBC-Project/Data/Research_and_Development_2.csv", row.names = FALSE)
write.csv(df1_1, "C:/Users/MNAJI/StrongerBC-Project/Data/Food_Expenditure_1.csv", row.names = FALSE)
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("11-10-0223-01", "eng")
View(df1)
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("11-10-0223-01", "eng")
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
df1_1 <- df1 |>
mutate(Category = `Household expenditures, summary-level categories`,
Quantile = `Before-tax household income quintile`) |>
filter(Statistic == "Average expenditure per household",
Quantile == "All quintiles",
Category %in% c("Total current consumption",
"Food expenditures")
) |>
select(
Year, GEO, Category, UOM, VALUE
) |>
pivot_wider(names_from = Category, values_from = VALUE) |>
mutate(Total = `Total expenditure`,
Food = `Food expenditures` ) |>
mutate(VALUE = Food / Total)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("11-10-0223-01", "eng")
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
df1_1 <- df1 |>
mutate(Category = `Household expenditures, summary-level categories`,
Quantile = `Before-tax household income quintile`) |>
filter(Statistic == "Average expenditure per household",
Quantile == "All quintiles",
Category %in% c("Total current consumption",
"Food expenditures")
) |>
select(
Year, GEO, Category, UOM, VALUE
) |>
pivot_wider(names_from = Category, values_from = VALUE) |>
mutate(Total = `Total expenditure`,
Food = `Food expenditures` ) |>
mutate(VALUE = Food / Total)
df1_1 <- df1 |>
mutate(Category = `Household expenditures, summary-level categories`,
Quantile = `Before-tax household income quintile`) |>
filter(Statistic == "Average expenditure per household",
Quantile == "All quintiles",
Category %in% c("Total current consumption",
"Food expenditures")
) |>
select(
Year, GEO, Category, UOM, VALUE
) |>
pivot_wider(names_from = Category, values_from = VALUE)
df1_1 <- df1 |>
mutate(Category = `Household expenditures, summary-level categories`,
Quantile = `Before-tax household income quintile`) |>
filter(Statistic == "Average expenditure per household",
Quantile == "All quintiles",
Category %in% c("Total current consumption",
"Food expenditures")
) |>
select(
Year, GEO, Category, UOM, VALUE
) |>
pivot_wider(names_from = Category, values_from = VALUE) |>
mutate(Total = `Total current consumption`,
Food = `Food expenditures` ) |>
mutate(VALUE = Food / Total)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("11-10-0223-01", "eng")
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
df1_1 <- df1 |>
mutate(Category = `Household expenditures, summary-level categories`,
Quantile = `Before-tax household income quintile`) |>
filter(Statistic == "Average expenditure per household",
Quantile == "All quintiles",
Category %in% c("Total current consumption",
"Food expenditures")
) |>
select(
Year, GEO, Category, UOM, VALUE
) |>
pivot_wider(names_from = Category, values_from = VALUE) |>
mutate(Total = `Total current consumption`,
Food = `Food expenditures` ) |>
mutate(VALUE = Food / Total)
# write.csv(df1, "~/StrongerBC-Project/Data/Research_and_Development_1.csv", row.names = FALSE)
# write.csv(df2, "~/StrongerBC-Project/Data/Research_and_Development_2.csv", row.names = FALSE)
write.csv(df1_1, "C:/Users/MNAJI/StrongerBC-Project/Data/Food_Expenditure_1.csv", row.names = FALSE)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("11-10-0223-01", "eng")
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
df1_1 <- df1 |>
mutate(Category = `Household expenditures, summary-level categories`,
Quantile = `Before-tax household income quintile`) |>
filter(Statistic == "Average expenditure per household",
Quantile == "All quintiles",
Category %in% c("Total current consumption",
"Transportation")
) |>
select(
Year, GEO, Category, UOM, VALUE
) |>
pivot_wider(names_from = Category, values_from = VALUE) |>
mutate(Total = `Total current consumption`,
Transportation = `Transportation` ) |>
mutate(VALUE = Transportation / Total)
# write.csv(df1, "~/StrongerBC-Project/Data/Research_and_Development_1.csv", row.names = FALSE)
# write.csv(df2, "~/StrongerBC-Project/Data/Research_and_Development_2.csv", row.names = FALSE)
write.csv(df1_1, "C:/Users/MNAJI/StrongerBC-Project/Data/Transportation_Expenditure_1.csv", row.names = FALSE)
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
library(shiny); runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
library(shiny); runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("33-10-0270-01", "eng")
View(df1)
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
colnames(df1)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
select(
Year, GEO, Industry, Measure, VALUE)
View(df1_1)
unique(df1_1$Industry)
unique(df1_1$Measure)
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("33-10-0270-01", "eng")
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
select(
Year, GEO, Industry, Measure, VALUE)
# write.csv(df1, "~/StrongerBC-Project/Data/Research_and_Development_1.csv", row.names = FALSE)
# write.csv(df2, "~/StrongerBC-Project/Data/Research_and_Development_2.csv", row.names = FALSE)
write.csv(df1_1, "C:/Users/MNAJI/StrongerBC-Project/Data/New_Business_Openings_1.csv", row.names = FALSE)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(GEO = "British Columbia")
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(GEO = "British Columbia") |>
select(
Year, GEO, Industry, Measure, VALUE)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(GEO == "British Columbia") |>
select(
Year, GEO, Industry, Measure, VALUE)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(GEO == "British Columbia ") |>
select(
Year, GEO, Industry, Measure, VALUE)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(GEO == "British Columbia") |>
select(
Year, GEO, Industry, Measure, VALUE)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
# filter(GEO == "British Columbia") |>
select(
Year, GEO, Industry, Measure, VALUE)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(GEO == "British Columbia") |>
select(
Year, GEO, Industry, Measure, VALUE)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(GEO == "Canada") |>
select(
Year, GEO, Industry, Measure, VALUE)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(GEO == "Saskatoon, Saskatchewan ") |>
select(
Year, GEO, Industry, Measure, VALUE)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(GEO == "Saskatoon, Saskatchewan") |>
select(
Year, GEO, Industry, Measure, VALUE)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(str_detect(GEO, "^British")) |>
select(
Year, GEO, Industry, Measure, VALUE)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("33-10-0270-01", "eng")
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(str_detect(GEO, "^British")) |>
select(
Year, GEO, Industry, Measure, VALUE)
# write.csv(df1, "~/StrongerBC-Project/Data/Research_and_Development_1.csv", row.names = FALSE)
# write.csv(df2, "~/StrongerBC-Project/Data/Research_and_Development_2.csv", row.names = FALSE)
write.csv(df1_1, "C:/Users/MNAJI/StrongerBC-Project/Data/New_Business_Openings_1.csv", row.names = FALSE)
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
View(df1_1)
unique(df1_1$GEO)
df1$Month <- month(df1$DATE)
unique(df1$Month)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
# select(
#   Year, GEO, Industry, Measure, VALUE) |>
group_by(Year, GEO, Industry, Measure) |>
summarise(VALUE = sum(VALUE))
View(df1_1)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(Industry == "Business sector industries [T004]") |>
# select(
#   Year, GEO, Industry, Measure, VALUE) |>
group_by(Year, GEO, Industry, Measure) |>
summarise(VALUE = sum(VALUE))
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("33-10-0270-01", "eng")
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
df1$Month <- month(df1$DATE)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(Industry == "Business sector industries [T004]") |>
# select(
#   Year, GEO, Industry, Measure, VALUE) |>
group_by(Year, GEO, Industry, Measure) |>
summarise(VALUE = sum(VALUE))
# write.csv(df1, "~/StrongerBC-Project/Data/Research_and_Development_1.csv", row.names = FALSE)
# write.csv(df2, "~/StrongerBC-Project/Data/Research_and_Development_2.csv", row.names = FALSE)
write.csv(df1_1, "C:/Users/MNAJI/StrongerBC-Project/Data/New_Business_Openings_1.csv", row.names = FALSE)
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(Industry == "Business sector industries [T004]",
str_detect(GEO, "^British")) |>
# select(
#   Year, GEO, Industry, Measure, VALUE) |>
group_by(Year, GEO, Industry, Measure) |>
summarise(VALUE = sum(VALUE))
View(df1_1)
library(statcanR)
library(dplyr)
library(tidyverse)
library(lubridate)
library(stringr)
df1 <- statcan_download_data("33-10-0270-01", "eng")
df1$DATE <- ymd(df1$REF_DATE)
df1$Year <- year(df1$DATE)
df1$Month <- month(df1$DATE)
df1_1 <- df1 |>
mutate(Measure = `Business dynamics measure`) |>
filter(Industry == "Business sector industries [T004]",
str_detect(GEO, "^British")) |>
# select(
#   Year, GEO, Industry, Measure, VALUE) |>
group_by(Year, GEO, Industry, Measure) |>
summarise(VALUE = sum(VALUE))
# write.csv(df1, "~/StrongerBC-Project/Data/Research_and_Development_1.csv", row.names = FALSE)
# write.csv(df2, "~/StrongerBC-Project/Data/Research_and_Development_2.csv", row.names = FALSE)
write.csv(df1_1, "C:/Users/MNAJI/StrongerBC-Project/Data/New_Business_Openings_1.csv", row.names = FALSE)
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
library(shiny); runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
# Line Plot ----
dash_lineplot <- function(data_func, df, input){
df1 <- data_func(df)
p1 <- df1 |>
plot_ly(x = ~Year, y = ~VALUE, type = 'scatter', mode = 'lines') |>
layout(xaxis = list(
title = "",
rangeslider = list(
visible = T,
thickness = 0.02,
bgcolor = "darkgrey"
)
),
yaxis = list(
title = ""
),
annotations = list(
list(
x = df1$Year[1],
y = df1$VALUE[1],
text = paste("  ", format(df1$VALUE[1], big.mark=",")),
showarrow = TRUE
),
list(
x = df1$Year[length(df1$Year)],
y = df1$VALUE[length(df1$VALUE)],
text = paste("     ", format(df1$VALUE[length(df1$VALUE)], big.mark=",")),
showarrow = TRUE
)
)
)
validate(need(nrow(df1) > 0, "The data for this set of inputs is inadequate. To obtain a proper visualization, please adjust the inputs in the sidebar."))
p1 <- ggplotly(p1)
return(p1)
}
s <- dash_lineplot()
s <- dash_lineplot()
runApp('C:/Users/MNAJI/StrongerBC-Project/app_homepage.R')
